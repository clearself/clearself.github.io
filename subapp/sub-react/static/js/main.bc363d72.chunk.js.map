{"version":3,"sources":["../webpack/universalModuleDefinition","public-path.js","music.js","App.js","serviceWorker.js","index.js"],"names":["root","factory","exports","module","define","amd","this","window","__POWERED_BY_QIANKUN__","__webpack_public_path__","__INJECTED_PUBLIC_PATH_BY_QIANKUN__","Header","arg","state","name","singer","addMusic","bind","console","log","props","changeListBack","className","type","placeholder","value","onChange","e","setState","target","onClick","React","Component","Main","checked","isAllSelected","selectAll","list","map","item","index","key","selected","selectItem","like","deleteItem","Footer","deleteSelected","collectionSelected","cancelCollectionSelected","App","changeList","some","filter","splice","_index","push","Boolean","location","hostname","match","render","ReactDOM","document","getElementById","bootstrap","a","mount","unmount","unmountComponentAtNode","update","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.bc363d72.chunk.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"sub-react-main\"] = factory();\n\telse\n\t\troot[\"sub-react-main\"] = factory();\n})(this, function() {\nreturn ","if (window.__POWERED_BY_QIANKUN__) {\r\n    // eslint-disable-next-line\r\n    __webpack_public_path__ = window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__;\r\n    //__webpack_public_path__ = window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__;\r\n}\r\n","import React from 'react';\r\nimport './music.css';\r\n\r\nclass Header extends React.Component{\r\n\tconstructor(arg) {\r\n\t    super(arg);\r\n\t\tthis.state = {\r\n\t\t\tname:'',\r\n\t\t\tsinger:'',\r\n\t\t}\r\n\t\tthis.addMusic = this.addMusic.bind(this);\r\n\t}\r\n\t\r\n\taddMusic(){\r\n\t\tconsole.log('添加音乐',this.state)\r\n\t\tthis.props.changeListBack(this.state.name,this.state.singer);\r\n\t}\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<header className=\"header\">\r\n\t\t\t  <input type=\"text\" placeholder=\"歌名\" value={ this.state.name } onChange={(e)=>{\r\n\t\t\t\t  console.log(e)\r\n\t\t\t\t  this.setState({\r\n\t\t\t\t\t  name:e.target.value\r\n\t\t\t\t  })\r\n\t\t\t  }} />\r\n\t\t\t  <input type=\"text\" placeholder=\"歌手\" value={ this.state.singer }onChange={(e)=>{\r\n\t\t\t\t  this.setState({\r\n\t\t\t\t\t  singer:e.target.value\r\n\t\t\t\t  })\r\n\t\t\t  }} />\r\n\t\t\t  <button onClick={this.addMusic}>添加歌曲</button>\r\n\t\t\t</header>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass Main extends React.Component{\r\n\t\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<table className=\"table\">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t <input checked={this.props.isAllSelected} type=\"checkbox\" onChange={this.props.selectAll} />\r\n\t\t\t\t\t\t\t 全选\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t歌曲\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t 歌手\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t 收藏\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t 删除\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.props.list.map((item,index)=>{\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t <input checked={item.selected} type=\"checkbox\"  onChange={this.props.selectItem.bind(this,index)} />\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t{item.singer}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t{item.like?'收藏':'未收藏'}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t <span onClick={this.props.deleteItem.bind(this,index)}>X</span>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t)\r\n\t}\r\n}\r\nclass Footer extends React.Component{\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<footer className=\"footer\">\r\n\t\t\t  <button onClick={this.props.deleteSelected}>删除选中的歌曲</button>\r\n\t\t\t  <button onClick={this.props.collectionSelected}>收藏选中的歌曲</button>\r\n\t\t\t  <button onClick={this.props.cancelCollectionSelected}>取消收藏选中的歌曲</button>\r\n\t\t\t </footer>\r\n\t\t)\r\n\t}\r\n}\r\nexport {\r\n\tHeader,\r\n\tMain,\r\n\tFooter\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport {Header, Main,Footer} from './music'\r\n\r\nclass App extends React.Component{\r\n\tconstructor(arg) {\r\n\t    super(arg);\r\n\t\tthis.state = {\r\n\t\t\tisAllSelected:false,\r\n\t\t\tlist:[\r\n\t\t\t\t{\r\n\t\t\t\t\tname:'忘情水1',\r\n\t\t\t\t\tsinger:'刘德华',\r\n\t\t\t\t\tselected:false,\r\n\t\t\t\t\tlike:false,\r\n\t\t\t\t},{\r\n\t\t\t\t\tname:'忘情水2',\r\n\t\t\t\t\tsinger:'刘德华',\r\n\t\t\t\t\tselected:false,\r\n\t\t\t\t\tlike:false,\r\n\t\t\t\t},{\r\n\t\t\t\t\tname:'忘情水3',\r\n\t\t\t\t\tsinger:'刘德华',\r\n\t\t\t\t\tselected:false,\r\n\t\t\t\t\tlike:false,\r\n\t\t\t\t},{\r\n\t\t\t\t\tname:'忘情水4',\r\n\t\t\t\t\tsinger:'刘德华',\r\n\t\t\t\t\tselected:false,\r\n\t\t\t\t\tlike:false,\r\n\t\t\t\t},{\r\n\t\t\t\t\tname:'忘情水5',\r\n\t\t\t\t\tsinger:'刘德华',\r\n\t\t\t\t\tselected:false,\r\n\t\t\t\t\tlike:false,\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t]\r\n\t\t}\r\n\t\tthis.changeList = this.changeList.bind(this)\r\n\t\tthis.selectAll = this.selectAll.bind(this)\r\n\t\tthis.selectItem = this.selectItem.bind(this)\r\n\t\tthis.deleteItem = this.deleteItem.bind(this)\r\n\t\tthis.deleteSelected = this.deleteSelected.bind(this)\r\n\t\tthis.collectionSelected = this.collectionSelected.bind(this)\r\n\t\tthis.cancelCollectionSelected = this.cancelCollectionSelected.bind(this)\r\n\t\t\r\n\t}\r\n\tcancelCollectionSelected(){\r\n\t\tlet list = this.state.list.map((item,index)=>{\r\n\t\t\t\tif(item.like && item.selected){\r\n\t\t\t\t\titem.like = false;\r\n\t\t\t\t}\r\n\t\t\t\treturn item;\r\n\t\t\t})\r\n\t\t\tthis.setState({\r\n\t\t\t\tisAllSelected:list.some(item=>item.selected===false)?false:true,\r\n\t\t\t\tlist\r\n\t\t\t})\r\n\t}\r\n\tcollectionSelected(){\r\n\t\tlet list = this.state.list.map((item,index)=>{\r\n\t\t\t\tif(item.selected){\r\n\t\t\t\t\titem.like = true;\r\n\t\t\t\t}\r\n\t\t\t\treturn item;\r\n\t\t\t})\r\n\t\t\tthis.setState({\r\n\t\t\t\tisAllSelected:list.some(item=>item.selected===false)?false:true,\r\n\t\t\t\tlist\r\n\t\t\t})\r\n\t}\r\n\tdeleteSelected(){\r\n\t\tlet list = this.state.list.filter((item,index)=>item.selected===false);\r\n\t\t\tthis.setState({\r\n\t\t\t\tisAllSelected:list.some(item=>item.selected===false)?false:true,\r\n\t\t\t\tlist\r\n\t\t\t})\r\n\t}\r\n\tdeleteItem(index,e){\r\n\t\tlet list = this.state.list;\r\n\t\tlist.splice(index,1);\r\n\t\tthis.setState({\r\n\t\t\tisAllSelected:list.some(item=>item.selected===false)?false:true,\r\n\t\t\tlist\r\n\t\t})\r\n\t}\r\n\tselectItem(index,e){\r\n\t\tconsole.log(e)\r\n\t\tlet list = [];\r\n\t\tif(e.target.checked){\r\n\t\t\tlist = this.state.list.map((item,_index)=>{\r\n\t\t\t\tif(index === _index){\r\n\t\t\t\t\titem.selected = true;\r\n\t\t\t\t}\r\n\t\t\t\treturn item;\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\tlist = this.state.list.map((item,_index)=>{\r\n\t\t\t\tif(index === _index){\r\n\t\t\t\t\titem.selected = false;\r\n\t\t\t\t}\r\n\t\t\t\treturn item;\r\n\t\t\t})\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tisAllSelected:list.some(item=>item.selected===false)?false:true,\r\n\t\t\tlist\r\n\t\t})\r\n\t}\r\n\tselectAll(e){\r\n\t\tlet list = [];\r\n\t\tif(e.target.checked){\r\n\t\t\tlist = this.state.list.map(item=>{\r\n\t\t\t\titem.selected = true;\r\n\t\t\t\treturn item;\r\n\t\t\t})\r\n\t\t\t\r\n\t\t}else{\r\n\t\t\tlist = this.state.list.map(item=>{\r\n\t\t\t\titem.selected = false;\r\n\t\t\t\treturn item;\r\n\t\t\t})\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tisAllSelected:e.target.checked?true:false,\r\n\t\t\tlist\r\n\t\t})\r\n\t}\r\n\tchangeList(name,singer){\r\n\t\tlet list = this.state.list;\r\n\t\tlist.push({\r\n\t\t\tname:name,\r\n\t\t\tsinger:singer,\r\n\t\t\tselected:false,\r\n\t\t\tlike:false,\r\n\t\t})\r\n\t\tthis.setState({\r\n\t\t\tlist\r\n\t\t})\r\n\t}\r\n  render(){\r\n\t  return (\r\n\t  \t<div className=\"App\">\r\n\t\t\t\t{ \r\n\t\t\t\t\t<Header\r\n\t\t\t\t\tchangeListBack={this.changeList}\r\n\t\t\t\t\t/> \r\n\t\t\t\t}\r\n\t\t\t\t{ \r\n\t\t\t\t\t<Main \r\n\t\t\t\t\tlist={this.state.list}\r\n\t\t\t\t\tisAllSelected={this.state.isAllSelected}\r\n\t\t\t\t\tselectAll={this.selectAll}\r\n\t\t\t\t\tdeleteItem={this.deleteItem}\r\n\t\t\t\t\tselectItem={this.selectItem}\r\n\t\t\t\t\t/> \r\n\t\t\t\t}\r\n\t\t\t\t{ \r\n\t\t\t\t\t<Footer \r\n\t\t\t\t\tdeleteSelected={this.deleteSelected}\r\n\t\t\t\t\tcollectionSelected={this.collectionSelected}\r\n\t\t\t\t\tcancelCollectionSelected={this.cancelCollectionSelected}\r\n\t\t\t\t\t/> \r\n\t\t\t\t}\r\n\t  \t</div>\r\n\t  )\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import './public-path'\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n\r\n\r\n\r\n\r\nfunction render() {\r\n  ReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n  );\r\n}\r\n\r\nif (!window.__POWERED_BY_QIANKUN__) {\r\n  render();\r\n}\r\n/**\r\n * bootstrap 只会在微应用初始化的时候调用一次，下次微应用重新进入时会直接调用 mount 钩子，不会再重复触发 bootstrap。\r\n * 通常我们可以在这里做一些全局变量的初始化，比如不会在 unmount 阶段被销毁的应用级别的缓存等。\r\n */\r\nexport async function bootstrap() {\r\n  console.log('react app bootstraped');\r\n}\r\n/**\r\n * 应用每次进入都会调用 mount 方法，通常我们在这里触发应用的渲染方法\r\n */\r\nexport async function mount(props) {\r\n  console.log('基座下发的能力：', props);\r\n\r\n  // 可通过 props.getGlobalState() 获取基座下发的数据\r\n\r\n  // props.setGlobalState({user: {name: ''}}) 改变全局的数据\r\n\r\n  // props.onGlobalStateChange 监听全局数据的变化\r\n  render();\r\n}\r\n/**\r\n * 应用每次 切出/卸载 会调用的方法，通常在这里我们会卸载微应用的应用实例\r\n */\r\nexport async function unmount() {\r\n  ReactDOM.unmountComponentAtNode(document.getElementById('root'));\r\n}\r\n/**\r\n * 可选生命周期钩子，仅使用 loadMicroApp 方式加载微应用时生效\r\n */\r\nexport async function update(props) {\r\n  console.log('update props', props);\r\n}\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}